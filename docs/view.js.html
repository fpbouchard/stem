<!DOCTYPE html>  <html> <head>   <title>view.js.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="base.js.html">                 base.js.coffee               </a>                                           <a class="source" href="coffeemvc.js.html">                 coffeemvc.js.coffee               </a>                                           <a class="source" href="event.js.html">                 event.js.coffee               </a>                                           <a class="source" href="model.js.html">                 model.js.coffee               </a>                                           <a class="source" href="view.js.html">                 view.js.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               view.js.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>= require lib/event
= require lib/model</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">class</span> <span class="nx">CoffeeMVC</span><span class="p">.</span><span class="nx">View</span>
  <span class="nx">@implements</span> <span class="nx">CoffeeMVC</span><span class="p">.</span><span class="nx">Events</span>

  <span class="nv">constructor: </span><span class="nf">(@options = {}) -&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>A view can be natively bound to a model, by declaring it directly in the constructor parameters</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="vi">@model = </span><span class="nx">@options</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span> <span class="k">if</span> <span class="nx">@options</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">?</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>Internal call tied to the invalidate system</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">_modelChange: </span><span class="o">=&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>Invalidating binds only to the next model change event, unbind immediately</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">@model</span><span class="p">.</span><span class="nx">unbind</span> <span class="s2">&quot;change&quot;</span><span class="p">,</span> <span class="nx">@_modelChange</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>Then render the view</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">@render</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>A view can optionally bind model changes to the invalidate method. If so,
the view will automatically call render when all the individual model
changes will be done. This way, one can listen to multiple single-attribute
changes and still re-render the view only once per call to model#set.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">invalidate: </span><span class="o">=&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>Render once all model updates are done</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">@model</span><span class="p">.</span><span class="nx">bind</span> <span class="s2">&quot;change&quot;</span><span class="p">,</span> <span class="nx">@_modelChange</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>Render is where the actual markup generation should take place. Any kind of
generation technique (DOM building, templating) can be used. Render should
return the view itself.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">render: </span><span class="o">-&gt;</span> <span class="k">this</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 